import { createBehaviorSubject, filter, test } from '..'

describe! 'filter', (): void ->
  it! 'should work', ->
    obs1 = createBehaviorSubject()
    obs1.next(0)
    m = filter(obs1, (x) -> x > 0)

    sub = test(m, console.log.bind(console), [
      (x) -> x == 1
      (x) -> x == 2
      'complete'
    ])

    obs1.next(1)
    obs1.next(-1)
    obs1.next(0)
    obs1.next(2)
    obs1.next(-50)
    obs1.complete()
    sub.unsubscribe()
